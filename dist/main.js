!function(){var t={642:function(t,s,e){const i=e(364),o=e(41),n=e(839);function h(t,s){this.DIM_X=t,this.DIM_Y=s,this.snake=new i(this),this.snacks=[],this.over=!1,this.makeSnack()}h.prototype.randomPos=function(t){return[Math.random()*this.DIM_X,Math.random()*this.DIM_Y]},h.prototype.allObjects=function(){return[this.snake].concat(this.snacks)},h.prototype.makeSnack=function(){let t=new o([0,0],"apple");t.pos=this.randomPos(t.rad),this.snacks.push(t)},h.prototype.draw=function(t){t.fillStyle="gray",t.fillRect(0,0,this.DIM_X,this.DIM_Y),this.allObjects().forEach((s=>s.draw(t)))},h.prototype.moveObjects=function(){this.allObjects().forEach((t=>{t.move()}))},h.prototype.step=function(){this.over||(this.moveObjects(),this.checkCollisions())},h.prototype.checkCollisions=function(){this.snake.outOfBounds()&&(this.over=!0),this.snake.selfBite()&&(this.over=!0);let t=this.snake,s=this;this.snacks.forEach((function(e){n.hypotenuse(e.pos,t.pos)<t.headRadius+e.radius&&(t.eat(e),s.makeSnack())}))},h.prototype.destroy=function(t){this.snacks=[]},t.exports=h},938:function(t,s,e){function i(t,s){this.game=t,this.ctx=s,this.snake,this.game.draw.bind(this.game)}e(642),e(364),i.prototype.start=function(){let t=this;setInterval(t.game.draw.bind(t.game,t.ctx),30),setInterval(t.game.step.bind(t.game),30),this.bindKeyHandlers()},i.prototype.bindKeyHandlers=function(){this.snake=this.game.snake,key("w",(()=>{this.snake.turn([0,-1])})),key("a",(()=>{this.snake.turn([-1,0])})),key("s",(()=>{this.snake.turn([0,1])})),key("d",(()=>{this.snake.turn([1,0])})),key("up",(()=>{this.snake.turn([0,-1])})),key("left",(()=>{this.snake.turn([-1,0])})),key("down",(()=>{this.snake.turn([0,1])})),key("right",(()=>{this.snake.turn([1,0])})),key("esc",(()=>{alert("GAME PAUSED")}))},t.exports=i},41:function(t){function s(t,s){this.pos=t,this.type=s,this.color="red",this.radius=10}s.prototype.draw=function(t){t.fillStyle=this.color,t.beginPath(),t.arc(this.pos[0],this.pos[1],this.radius,0,6.28,!1),t.closePath(),t.fill()},s.prototype.move=function(){},t.exports=s},364:function(t,s,e){const i=e(839);function o(t){this.game=t,this.headRadius=10,this.color="#0BDA51",this.pos=[this.game.DIM_X/2,this.game.DIM_Y-this.headRadius],this.vel=[0,-1],this.speed=8,this.body=[],this.maxLength=100}o.prototype.move=function(){this.body.unshift(this.pos.slice()),this.body.length>this.maxLength&&this.body.pop(),this.pos[0]+=this.speed*this.vel[0],this.pos[1]+=this.speed*this.vel[1]},o.prototype.draw=function(t){let s=i.direction(this.vel);t.fillStyle=this.color,t.beginPath(),t.arc(this.pos[0],this.pos[1],this.headRadius,s+.3,s+3.5,!1),t.closePath(),t.fill(),t.beginPath(),t.arc(this.pos[0],this.pos[1],this.headRadius,s-.3,s-3.5,!0),t.closePath(),t.fill();let e=this.headRadius/1.5;this.body.forEach((function(s){t.beginPath(),t.arc(s[0],s[1],e,0,6.28,!1),t.closePath(),t.fill()})),t.fillStyle="black";let o=this.pos.slice();0===i.direction(this.vel)?(o[0]+=this.headRadius*this.vel[1]/2,o[1]-=Math.abs(this.headRadius*this.vel[0]/2)):(o[0]+=this.headRadius*this.vel[1]/2,o[1]+=this.headRadius*this.vel[0]/2),this.game.over?(t.beginPath(),t.moveTo(o[0]+5,o[1]+5),t.lineTo(o[0]-5,o[1]-5),t.stroke(),t.beginPath(),t.moveTo(o[0]-5,o[1]+5),t.lineTo(o[0]+5,o[1]-5),t.stroke()):(t.beginPath(),t.arc(o[0],o[1],2.5,0,6.28,!1),t.closePath(),t.fill())},o.prototype.turn=function(t){JSON.stringify(i.scale(t,-1))!=JSON.stringify(this.vel)&&(this.vel=t)},o.prototype.outOfBounds=function(){return i.outOfBounds(this.pos,this.game,this.headRadius)},o.prototype.selfBite=function(){let t=!1,s=this.pos,e=this.speed;return this.body.forEach((function(o){i.hypotenuse(o,s)<e&&(t=!0)})),t},o.prototype.eat=function(t){this.maxLength+=20,this.game.destroy(t)},t.exports=o},839:function(t){const s={inherits(t,s){function e(){}e.prototype=s.prototype,t.prototype=new e,t.prototype.constructor=t},scale(t,s){return[t[0]*s,t[1]*s]},hypotenuse(t,s){return Math.hypot(t[0]-s[0],t[1]-s[1])},direction(t){return Math.atan2(t[1],t[0])},outOfBounds(t,s,e){return t[0]<=e||t[1]<=e||t[0]>=s.DIM_X-e||t[1]>=s.DIM_Y-e}};t.exports=s}},s={};function e(i){var o=s[i];if(void 0!==o)return o.exports;var n=s[i]={exports:{}};return t[i](n,n.exports,e),n.exports}!function(){e(364);const t=e(642),s=e(938);document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("game-canvas");e.width=1e3,e.height=600;const i=e.getContext("2d");let o=new t(1e3,600);new s(o,i).start()}))}()}();
//# sourceMappingURL=main.js.map